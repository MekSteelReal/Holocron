<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Holocron SWTOR: Guia Definitivo do Herói</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome para ícones -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" xintegrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <style>
        /* Estilos base do corpo */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fcfcfb; /* stone-50 - base muito claro */
            color: #292524; /* stone-800 - texto principal */
        }
        /* Estilos para títulos de seção */
        .section-title {
            color: #44403c; /* stone-700 - títulos de seção */
        }
        /* Estilos para o botão primário */
        .btn-primary {
            background-color: #1e40af; /* blue-800 - azul forte */
            color: white;
            transition: background-color 0.3s ease-in-out, transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .btn-primary:hover {
            background-color: #1d4ed8; /* blue-700 - azul um pouco mais claro */
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.05);
        }
        /* Estilos para o botão secundário */
        .btn-secondary {
            background-color: #e5e7eb; /* gray-200 - cinza claro */
            color: #374151; /* gray-700 - cinza escuro */
            transition: background-color 0.3s ease-in-out, transform 0.2s ease-in-out;
        }
        .btn-secondary:hover {
            background-color: #d1d5db; /* gray-300 */
            transform: translateY(-2px);
        }
        .btn-secondary.active {
            background-color: #dbeafe; /* blue-100 - azul muito claro */
            color: #1e40af; /* blue-800 - azul forte */
            font-weight: 600;
            border: 1px solid #93c5fd; /* blue-300 */
        }
        /* Estilos para os cartões de conteúdo */
        .card {
            background-color: white;
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.08), 0 4px 6px -4px rgb(0 0 0 / 0.08); /* shadow-lg custom */
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            border: 1px solid #e7e5e4; /* stone-200 */
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }
        /* Estilos para o container do gráfico */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
            padding: 1rem;
            background-color: #fcfcfb;
            border-radius: 0.75rem;
            box-shadow: inset 0 2px 4px 0 rgb(0 0 0 / 0.06);
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        /* Estilos para os passos do fluxograma */
        .flowchart-step {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 1rem;
            border-radius: 0.5rem;
            background-color: #fbfbfa;
            box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.05);
            transition: all 0.3s ease-in-out;
        }
        .flowchart-step:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        /* Seta para conectar passos do fluxograma (desktop) */
        .flowchart-step:not(:last-child)::after {
            content: '→';
            position: absolute;
            right: -2.5rem;
            top: 25%;
            font-size: 2.5rem;
            color: #a8a29e;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        /* Seta para conectar passos do fluxograma (mobile) */
        @media (max-width: 1023px) {
            .flowchart-step:not(:last-child)::after {
                content: '↓';
                right: 50%;
                transform: translateX(50%);
                top: 100%;
                margin-top: 1rem;
            }
        }
        /* Estilos para o modal */
        .modal {
            transition: opacity 0.3s ease;
        }
        /* Estilos para o conteúdo da página, para animação de transição */
        .page-content {
            display: none; /* Escondido por padrão */
        }
        .page-content.active {
            display: block; /* Mostrado quando ativo */
            animation: fadeIn 0.5s ease-out; /* Adiciona animação de fade-in */
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Estilos para ícones de facção */
        .icon-faction {
            width: 32px;
            height: 32px;
            border-radius: 9999px; /* rounded-full */
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            background-size: cover;
            background-position: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2); /* Sombra para os ícones */
            border: 1px solid rgba(255,255,255,0.3);
        }
        .icon-imperial {
            background-image: url('https://static.wikia.nocookie.net/swtor/images/b/b3/Imperial_Faction_Icon.png/revision/latest/scale-to-width-and-height/32?cb=20120216012711');
            background-color: #dc2626; /* Cor de fallback vermelha */
        }
        .icon-republic {
            background-image: url('https://static.wikia.nocookie.net/swtor/images/a/a2/Republic_Faction_Icon.png/revision/latest/scale-to-width-and-height/32?cb=20120216012720');
            background-color: #2563eb; /* Cor de fallback azul */
        }
        /* Estilos para ícones pequenos de facção em filtros */
        .icon-imperial-small {
            background-image: url('https://static.wikia.nocookie.net/swtor/images/b/b3/Imperial_Faction_Icon.png/revision/latest/scale-to-width-and-height/20?cb=20120216012711');
            width: 20px;
            height: 20px;
        }
        .icon-republic-small {
            background-image: url('https://static.wikia.nocookie.net/swtor/images/a/a2/Republic_Faction_Icon.png/revision/latest/scale-to-width-and-height/20?cb=20120216012720');
            width: 20px;
            height: 20px;
        }

        /* Estilos para botões de navegação */
        .nav-button {
            position: relative;
            padding: 0.5rem 0.75rem;
            color: #57534e; /* stone-600 */
            font-weight: 500;
            text-decoration: none;
            transition: color 0.3s ease-in-out;
        }
        .nav-button:hover {
            color: #1e40af; /* blue-800 */
        }
        .nav-button.active {
            color: #1e40af; /* blue-800 */
            font-weight: 700;
        }
        /* Linha inferior para botão de navegação ativo */
        .nav-button.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            height: 3px;
            background-color: #1e40af; /* blue-800 */
            border-radius: 9999px;
        }
        /* Estilos personalizados para vantagens da guilda */
        .guild-perk-item {
            background-color: #e0f2fe; /* blue-50 */
            border-color: #93c5fd; /* blue-300 */
            border-radius: 0.5rem;
            padding: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            transition: transform 0.2s ease-in-out;
        }
        .guild-perk-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .guild-perk-item h4 {
            color: #1e40af; /* blue-800 */
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        .guild-perk-item p {
            color: #44403c; /* stone-700 */
            font-size: 0.875rem;
        }
    </style>
</head>
<body class="antialiased">
    <!-- Cabeçalho da página com navegação -->
    <header class="bg-white/90 backdrop-blur-lg shadow-md sticky top-0 z-50 border-b border-stone-200">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8 max-w-screen-xl">
            <div class="flex items-center justify-between h-20">
                <div class="flex-shrink-0">
                    <h1 class="text-2xl font-extrabold text-stone-800 tracking-tight flex items-center">
                        <i class="fas fa-hat-wizard text-amber-500 mr-2"></i> Holocron SWTOR
                    </h1>
                </div>
                <!-- Botões de navegação para desktop -->
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-6">
                        <button data-page="boas-vindas" class="nav-button active">Boas-Vindas</button>
                        <button data-page="introducao" class="nav-button">Introdução</button>
                        <button data-page="estilos" class="nav-button">Estilos</button>
                        <button data-page="equipamentos" class="nav-button">Equipamentos</button>
                        <button data-page="combate" class="nav-button">Maestria</button>
                        <button data-page="datacrons" class="nav-button">Datacrons</button>
                        <button data-page="legado" class="nav-button">Legado</button>
                        <button data-page="guilda" class="nav-button">Guilda</button>
                        <button data-page="simulacoes" class="nav-button">Simulações</button>
                    </div>
                </div>
                <!-- Botão do menu mobile -->
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-blue-700 focus:outline-none">
                        <span class="text-stone-800 text-2xl"><i class="fas fa-bars"></i></span>
                    </button>
                </div>
            </div>
        </nav>
        <!-- Menu mobile oculto por padrão -->
        <div id="mobile-menu" class="md:hidden hidden bg-white/90 backdrop-blur-lg">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <button data-page="boas-vindas" class="nav-button-mobile block px-3 py-2 rounded-md text-base font-medium active">Boas-Vindas</button>
                <button data-page="introducao" class="nav-button-mobile block px-3 py-2 rounded-md text-base font-medium">Introdução</button>
                <button data-page="estilos" class="nav-button-mobile block px-3 py-2 rounded-md text-base font-medium">Estilos</button>
                <button data-page="equipamentos" class="nav-button-mobile block px-3 py-2 rounded-md text-base font-medium">Equipamentos</button>
                <button data-page="combate" class="nav-button-mobile block px-3 py-2 rounded-md text-base font-medium">Maestria</button>
                <button data-page="datacrons" class="nav-button-mobile block px-3 py-2 rounded-md text-base font-medium">Datacrons</button>
                <button data-page="legado" class="nav-button-mobile block px-3 py-2 rounded-md text-base font-medium">Legado</button>
                <button data-page="guilda" class="nav-button-mobile block px-3 py-2 rounded-md text-base font-medium">Guilda</button>
                <button data-page="simulacoes" class="nav-button-mobile block px-3 py-2 rounded-md text-base font-medium">Simulações</button>
            </div>
        </div>
    </header>

    <!-- Conteúdo principal da aplicação -->
    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12 max-w-screen-xl">
        <div id="app-content">
            <!-- Página de Boas-Vindas -->
            <div id="page-boas-vindas" class="page-content active">
                <section class="text-center mb-16">
                    <h2 class="text-4xl font-bold tracking-tight sm:text-5xl section-title mb-6">Bem-vindo ao Holocron SWTOR</h2>
                    <p class="mt-4 max-w-3xl mx-auto text-xl text-stone-700 leading-relaxed">Este holocron interativo foi aprimorado com tutoriais aprofundados para guiá-lo em cada passo da sua jornada. Do domínio do seu Estilo de Combate à caça aos Datacrons, seu caminho para o poder supremo está detalhado aqui.</p>
                    <p class="mt-8 max-w-3xl mx-auto text-lg text-stone-600">Utilize o menu de navegação acima para explorar as diferentes seções deste Holocron. Cada "página" contém informações cruciais para transformar seu personagem no mais poderoso da galáxia!</p>
                     <div class="mt-12 p-8 bg-blue-50 rounded-xl shadow-inner border border-blue-200">
                        <h3 class="text-3xl font-bold text-blue-800 mb-6">Sobre o Criador da Página</h3>
                        <div class="flex flex-col md:flex-row items-center justify-center space-y-6 md:space-y-0 md:space-x-12">
                            <div class="text-center p-4 bg-white rounded-lg shadow-md border border-blue-100">
                                <p class="text-xl font-semibold text-blue-700 mb-2">Nome do Personagem:</p>
                                <p class="text-2xl font-bold text-blue-900">Inrique</p>
                            </div>
                            <div class="text-center p-4 bg-white rounded-lg shadow-md border border-yellow-100">
                                <p class="text-xl font-semibold text-amber-700 mb-2">Legacy:</p>
                                <p class="text-2xl font-bold text-amber-900">Bezzar'kin</p>
                            </div>
                            <div class="text-center p-4 bg-white rounded-lg shadow-md border border-green-100">
                                <p class="text-xl font-semibold text-green-700 mb-2">Facção:</p>
                                <p class="text-2xl font-bold text-green-900">República</p>
                            </div>
                            <div class="text-center p-4 bg-white rounded-lg shadow-md border border-blue-100">
                                <p class="text-xl font-semibold text-blue-700 mb-2">Guilda:</p>
                                <p class="text-2xl font-bold text-blue-900">Brazucas</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Página de Introdução ao SWTOR -->
            <div id="page-introducao" class="page-content">
                <section class="text-center mb-16">
                    <h2 class="text-4xl font-bold tracking-tight sm:text-5xl section-title mb-6">Introdução ao Star Wars: The Old Republic</h2>
                    <p class="mt-4 max-w-3xl mx-auto text-xl text-stone-700 leading-relaxed">Bem-vindo ao vasto e icônico universo de Star Wars! Star Wars: The Old Republic (SWTOR) é um MMORPG (Massively Multiplayer Online Role-Playing Game) que o convida a moldar sua própria saga em uma galáxia dividida pela guerra.</p>
                    <div class="mt-12 grid md:grid-cols-2 gap-8 text-left">
                        <div class="card p-6">
                            <h3 class="text-2xl font-semibold text-stone-800 mb-4 flex items-center">
                                <i class="fas fa-book-open text-blue-600 mr-3"></i> A Premissa Central
                            </h3>
                            <p class="text-stone-600 leading-relaxed">
                                Lançado em 20 de dezembro de 2011, SWTOR se destaca por sua profunda narrativa e elementos de RPG que permitem aos jogadores definir seu próprio destino. A galáxia está em uma "guerra fria" entre o ressurgente e ambicioso **Império Sith** e a resiliente **República Galáctica**. Essa tensão constante cria um cenário de intriga, espionagem e conflito em larga escala, onde cada escolha tem consequências.
                            </p>
                        </div>
                        <div class="card p-6">
                            <h3 class="text-2xl font-semibold text-stone-800 mb-4 flex items-center">
                                <i class="fas fa-star-half-alt text-yellow-600 mr-3"></i> Sua Jornada e Escolhas
                            </h3>
                            <p class="text-stone-600 leading-relaxed">
                                O jogo oferece uma experiência de RPG imersiva, onde você pode seguir o caminho da **Luz** ou da **Escuridão**, tornando-se um defensor da paz ou um tirano impiedoso. Cada classe possui uma história individual completa e totalmente dublada, tornando sua jornada pessoal e única. A força em SWTOR não se limita apenas a estatísticas brutas; ela reside na compreensão profunda das mecânicas, na aplicação estratégica das habilidades e na capacidade de adaptação às dinâmicas do jogo.
                            </p>
                        </div>
                    </div>
                    <p class="mt-8 max-w-3xl mx-auto text-lg text-stone-600">Prepare-se para explorar planetas icônicos, encontrar personagens memoráveis e moldar o futuro da galáxia de Star Wars!</p>
                </section>
            </div>

            <!-- Página de Estilos de Combate -->
            <div id="page-estilos" class="page-content">
                <section class="mb-20">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl font-bold tracking-tight section-title">O Arsenal do Herói: Escolha e Domine Seu Estilo de Combate (Combat Style)</h2>
                        <p class="mt-3 max-w-2xl mx-auto text-lg text-stone-600">Sua escolha de Estilo de Combate (Combat Style) define sua identidade e papel na batalha. Aqui, você explorará as opções mais poderosas e versáteis para DPS, com guias detalhados sobre suas rotações e habilidades defensivas essenciais. Lembre-se, a partir da atualização 7.0, você pode escolher qualquer Estilo de Combate (Combat Style) independente da sua História de Origem (Origin Story)!</p>
                        <!-- Filtros de estilos de combate -->
                        <div id="combat-style-filters" class="mt-6 flex justify-center space-x-2 flex-wrap gap-2">
                            <button data-filter="all" class="btn-secondary active px-4 py-2 rounded-md text-sm font-medium"><i class="fas fa-grip-horizontal mr-2"></i>Todos</button>
                            <button data-filter="imperial" class="btn-secondary px-4 py-2 rounded-md text-sm font-medium"><span class="icon-faction icon-imperial-small mr-2"></span>Império</button>
                            <button data-filter="republic" class="btn-secondary px-4 py-2 rounded-md text-sm font-medium"><span class="icon-faction icon-republic-small mr-2"></span>República</button>
                            <button data-filter="melee" class="btn-secondary px-4 py-2 rounded-md text-sm font-medium"><i class="fas fa-hand-rock mr-2"></i>Corpo a Corpo</button>
                            <button data-filter="ranged" class="btn-secondary px-4 py-2 rounded-md text-sm font-medium"><i class="fas fa-crosshairs mr-2"></i>À Distância</button>
                            <button data-filter="stealth" class="btn-secondary px-4 py-2 rounded-md text-sm font-medium"><i class="fas fa-mask mr-2"></i>Furtivo</button>
                        </div>
                    </div>
                    
                    <!-- Seção de estilos de combate do Império -->
                    <h3 class="text-2xl font-bold text-stone-800 mb-6 flex items-center justify-center lg:justify-start">
                        <span class="icon-faction icon-imperial mr-3"></span>Estilos de Combate do Império
                    </h3>
                    <div id="combat-style-grid-imperial" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
                        <!-- Estilos de combate imperiais serão renderizados aqui pelo JS -->
                    </div>

                    <!-- Seção de estilos de combate da República -->
                    <h3 class="text-2xl font-bold text-stone-800 mb-6 flex items-center justify-center lg:justify-start">
                        <span class="icon-faction icon-republic mr-3"></span>Estilos de Combate da República
                    </h3>
                    <div id="combat-style-grid-republic" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <!-- Estilos de combate republicanos serão renderizados aqui pelo JS -->
                    </div>

                    <p class="mt-8 text-stone-600 max-w-2xl mx-auto text-center">**Dica Importante:** Assinantes podem escolher um segundo Estilo de Combate (Combat Style) após completar o Capítulo 3 da história de origem (ou imediatamente no nível 1 se já tiverem feito isso em outro personagem do legado)! Isso permite alternar entre duas especializações completas fora de combate, como um DPS e um Tanque (Tank), oferecendo enorme versatilidade.</p>
                </section>
            </div>

            <!-- Página de Equipamentos -->
            <div id="page-equipamentos" class="page-content">
                <section class="mb-20">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl font-bold tracking-tight section-title">A Forja do Poder: Equipamentos e Otimização Avançada (Gear & Advanced Optimization)</h2>
                        <p class="mt-3 max-w-2xl mx-auto text-lg text-stone-600">O equipamento (Gear) é a base do seu poder. Esta seção detalha como otimizar seus atributos (Stats), o caminho eficiente para o Item Level (NI) 344 (o máximo atual) e as moedas (Currencies) que você precisará acumular. Entender este sistema é crucial para maximizar seu desempenho em qualquer conteúdo.</p>
                    </div>

                    <div class="space-y-16">
                        <div class="card p-6 md:p-8">
                            <h3 class="text-2xl font-semibold mb-2 text-stone-800">Tutorial: Otimização de Atributos (Stats) para DPS/Healer (Cura)</h3>
                            <p class="mb-6 text-stone-600">Para maximizar seu dano (DPS) e eficácia de cura (Heal), atingir os "caps" (limites) de certos atributos é a prioridade. Este gráfico interativo mostra os alvos para **Accuracy (Precisão)** e **Alacrity (Alacridade)**, antes de investir todo o resto em **Critical (Crítico)**. Mastery (Maestria), Endurance (Vigor) e Power (Poder) vêm naturalmente com o Item Rating (NI) e não são prioridades de ajuste fino.</p>
                            <div class="flex flex-col md:flex-row items-center gap-4 mb-6 p-4 bg-stone-50 rounded-lg border border-stone-200">
                                <p class="text-stone-700 font-medium text-center md:text-left">Sua guilda "brazucas" tem o bônus "Zeal" (+5% Alacrity)? Isso muda drasticamente seu alvo de Alacrity. Ative ou desative o bônus para ver a diferença.</p>
                                <button id="toggle-guild-perk" class="btn-primary px-5 py-2 rounded-md shadow-sm w-full md:w-auto">Sim, ativar bônus da Guilda</button>
                            </div>
                            <div class="chart-container">
                                <canvas id="stats-chart"></canvas>
                            </div>
                            <ul class="list-disc list-inside space-y-2 text-stone-600 mt-6">
                                <li><strong>Accuracy (Precisão):</strong> Mantenha <strong>110%</strong> para PvE de fim de jogo. Isso requer aproximadamente 2694 de classificação. Para PvP, 105% é geralmente suficiente.</li>
                                <li><strong>Alacrity (Alacridade):</strong> Mire em um Global Cooldown (GCD) de 1.4 segundos. Isso geralmente significa cerca de 2054 de classificação de Alacrity. Se sua guilda tiver o bônus "Zeal", você só precisará de ~560 de Alacrity para o mesmo GCD.</li>
                                <li><strong>Critical (Crítico):</strong> Depois que Accuracy e Alacrity atingirem seus limites, invista todos os pontos restantes em Critical.</li>
                                <li><strong>Mastery (Maestria) & Power (Poder):</strong> Estes vêm com o Item Rating (NI). Sempre priorize o Item Rating (NI) mais alto para maximizar essas estatísticas.</li>
                                <li><strong>Endurance (Resistência):</strong> Aumenta a saúde. Para DPS/Cura, é uma estatística secundária; não sacrifique dano por resistência extra a menos que seja para o propósito específico de sobrevivência.</li>
                            </ul>
                        </div>

                        <div class="card p-6 md:p-8">
                            <h3 class="text-2xl font-semibold mb-2 text-stone-800">Tutorial: O Caminho do Equipamento (Gear Path) (até iLvl 344)</h3>
                            <p class="mb-8 text-stone-600">Este fluxograma simplifica sua jornada, mostrando as principais fontes e a ordem de progressão. A estratégia é usar fontes mais fáceis (Conquest, Flashpoints) para obter um set base, e então farmar conteúdo de grupo (Operations) para o equipamento final, o Rakata 344. O **Item Rating (NI)** é a chave para desbloquear drops de níveis mais altos.</p>
                             <div class="flex flex-col lg:flex-row justify-around items-center lg:items-start gap-8 lg:gap-4">
                                <div class="flowchart-step">
                                    <div class="bg-blue-100 text-blue-800 rounded-full w-20 h-20 flex items-center justify-center text-3xl font-bold mb-2">1</div>
                                    <h4 class="font-semibold text-lg">Conquest Set (NI 324+)</h4>
                                    <p class="text-sm text-stone-500 max-w-xs">Use Conquest Commendations (Medalhas de Conquista) para seu set inicial (peitoral, calças, etc.) e Relics (Relíquias)/Earpiece (Brinco) NI 340. Disponível no Conquest Vendor (Vendedor de Conquista) na Fleet (Frota). Este é o ponto de partida rápido.</p>
                                </div>
                                <div class="flowchart-step">
                                    <div class="bg-blue-100 text-blue-800 rounded-full w-20 h-20 flex items-center justify-center text-3xl font-bold mb-2">2</div>
                                    <h4 class="font-semibold text-lg">Flashpoints (Veteran/Master)</h4>
                                    <p class="text-sm text-stone-500 max-w-xs">Farme FPs para obter drops azuis (Prototype) NI 340. Desconstrua-os para desbloquear **Mods** e **Enhancements (Aprimoramentos)** 340 com Hyde & Zeek na Fleet, permitindo comprá-los com créditos. Essencial para equipar a maioria dos seus slots.</p>
                                </div>
                                <div class="flowchart-step">
                                    <div class="bg-blue-100 text-blue-800 rounded-full w-20 h-20 flex items-center justify-center text-3xl font-bold mb-2">3</div>
                                    <h4 class="font-semibold text-lg">Operations (R-4 - NI 328+)</h4>
                                    <p class="text-sm text-stone-500 max-w-xs">Faça Operations (Story/Veteran) para obter equipamento R-4 (NI 328+) e **OP-1 Catalysts (Catalisadores OP-1)**. Você pode "iscar" drops de slots específicos equipando uma peça de NI inferior nesse slot antes de matar o chefe.</p>
                                </div>
                                <div class="flowchart-step">
                                    <div class="bg-amber-100 text-amber-800 rounded-full w-20 h-20 flex items-center justify-center text-3xl font-bold mb-2">4</div>
                                    <h4 class="font-semibold text-lg">Rakata 344 Final (NI 342/344)</h4>
                                    <p class="text-sm text-stone-500 max-w-xs">Use os OP-1 Catalysts para aprimorar seu equipamento R-4 para Rakata de nível 342 e depois 344 no Operations Upgrade Vendor (Vendedor de Melhorias de Operações) na Fleet. Este é o melhor equipamento PvE de fim de jogo.</p>
                                </div>
                            </div>
                        </div>

                        <div class="card p-6 md:p-8">
                             <h3 class="text-2xl font-semibold mb-4 text-stone-800">Tutorial: Currencies (Moedas) de Equipamento e Onde Encontrá-las</h3>
                            <p class="mb-6 text-stone-600">A progressão de equipamento gira em torno da coleta de moedas (Currencies) específicas de diferentes atividades. Entender para que cada uma serve e onde obtê-las é essencial para sua eficiência. Cada uma serve a um propósito vital na sua busca pelo equipamento supremo.</p>
                            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                                <div class="bg-stone-50 p-4 rounded-lg border">
                                    <h4 class="font-bold text-lg text-blue-700">Tech Fragments <i class="fas fa-microchip ml-2"></i></h4>
                                    <p class="text-sm text-stone-600">A moeda universal, obtida em quase todas as atividades de endgame (Conquests, Heroics, FPs, Ops, PvP). Usada para Legendary Implants (Implantes Lendários), Tacticals (Táticos) e materiais para os melhores Augments (Aumentos).</p>
                                </div>
                                <div class="bg-stone-50 p-4 rounded-lg border">
                                    <h4 class="font-bold text-lg text-green-700">Conquest Commendations <i class="fas fa-medal ml-2"></i></h4>
                                    <p class="text-sm text-stone-600">Obtidas completando seus objetivos semanais de Conquest. Usadas para comprar seu set inicial de equipamento (iLvl 324+) e Relics (Relíquias)/Earpiece 340. Podem ser trocadas por Tech Fragments no Conquest Vendor.</p>
                                </div>
                                <div class="bg-stone-50 p-4 rounded-lg border">
                                    <h4 class="font-bold text-lg text-amber-700">OP-1 Catalysts <i class="fas fa-flask ml-2"></i></h4>
                                    <p class="text-sm text-stone-600">A moeda mais importante para o equipamento final (Rakata), obtida principalmente em Operations bosses. Essenciais para o aprimoramento do seu equipamento R-4 para Rakata 344. Raramente, podem ser trocados por Tech Fragments.</p>
                                 </div>
                                 <div class="bg-stone-50 p-4 rounded-lg border">
                                    <h4 class="font-bold text-lg text-cyan-700">FP-1 Stabilizers <i class="fas fa-cogs ml-2"></i></h4>
                                    <p class="text-sm text-stone-600">Ganhos em Flashpoints. Podem ser trocados por outras moedas ou usados para comprar equipamentos específicos de Flashpoints em vendedores dedicados.</p>
                                 </div>
                                 <div class="bg-stone-50 p-4 rounded-lg border">
                                    <h4 class="font-bold text-lg text-red-700">WZ-1 Accelerants <i class="fas fa-fist-raised ml-2"></i></h4>
                                    <p class="text-sm text-stone-600">Moeda exclusiva de PvP (Warzones) e Galactic Starfighter. Usada para comprar equipamento de PvP (limite de iLvl 328) e pode ser trocada por Tech Fragments. Não são usados para o equipamento PvE de fim de jogo.</p>
                                 </div>
                                 <div class="bg-stone-50 p-4 rounded-lg border">
                                    <h4 class="font-bold text-lg text-purple-700">Legendary Implants & Augments <i class="fas fa-gem ml-2"></i></h4>
                                    <p class="text-sm text-stone-600"><strong>Legendary Implants</strong> são seus novos "set bonuses" (bônus de conjunto) pós-7.0, fornecendo efeitos poderosos; são adquiridos e aprimorados com Tech Fragments e Conquest Commendations. <strong>Augments</strong> são o "fine-tuning" (ajuste fino) final dos seus atributos, adicionando estatísticas extras a cada peça de equipamento e são cruciais para o endgame de alto nível; feitos via Crafting ou GTN.</p>
                                 </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Página de Maestria em Combate -->
            <div id="page-combate" class="page-content">
                <section class="mb-20">
                     <div class="text-center mb-12">
                        <h2 class="text-3xl font-bold tracking-tight section-title">Maestria em Combate (Combat Mastery): Fundamentos e Estratégias Avançadas</h2>
                        <p class="mt-3 max-w-2xl mx-auto text-lg text-stone-600">Equipamento (Gear) é apenas metade da batalha. Dominar as mecânicas do seu personagem é o que realmente define um jogador de elite. Habilidade é 90% do seu dano. Pratique constantemente e adapte-se a cada situação!</p>
                    </div>
                    <div class="space-y-8">
                        <div class="card p-6 md:p-8">
                            <h3 class="text-2xl font-semibold mb-4 text-stone-800 flex items-center">
                                <i class="fas fa-hand-fist text-red-600 mr-3"></i> Fundamentos do Combate
                            </h3>
                            <p class="mb-6 text-stone-600">Para se destacar, você precisa entender os pilares do combate no SWTOR. Não se trata apenas de apertar botões, mas de tomar decisões inteligentes em tempo real e reagir às situações, otimizando cada ação.</p>
                            <div class="grid md:grid-cols-2 gap-6">
                                <div>
                                    <h4 class="font-bold text-lg mb-2 flex items-center"><i class="fas fa-sync-alt text-blue-500 mr-2"></i> Gerenciamento de Recursos</h4>
                                    <p class="text-stone-600">Cada classe tem um recurso único (Force (Força), Energy (Energia), Heat (Calor), Rage (Fúria)) que precisa ser gerado e gasto eficientemente para nunca ficar sem poder de fogo. **Regra geral:** para usuários de tecnologia (Agents (Agentes)/Smugglers (Contrabandistas) e Bounty Hunters (Caçadores de Recompensas)/Troopers (Soldados)), manter a Energy acima de 60% ou o Heat abaixo de 40 é crucial para maximizar sua regeneração e dano. Usuários da Force (Força) precisam balancear habilidades de custo baixo e alto para manter o fluxo.</p>
                                </div>
                                <div>
                                    <h4 class="font-bold text-lg mb-2 flex items-center"><i class="fas fa-hand-sparkles text-green-500 mr-2"></i> Habilidades de Utilidade Essenciais</h4>
                                    <p class="text-stone-600">Sua <strong class="text-red-600">Interrupt (Interrupção)</strong> é a habilidade mais importante: use-a para parar habilidades inimigas de serem conjuradas (geralmente indicadas por uma barra de conjuração no inimigo). Use <strong class="text-blue-600">Stuns (Atordoamentos)</strong> para controlar inimigos menores e <strong class="text-green-600">Cleanses (Limpezas)</strong> para remover efeitos negativos (debates) de você ou de aliados. Conheça suas habilidades de movimento (jumps (saltos), rolls (rolamentos), boosts (impulsos)) para se reposicionar e evitar dano ou mecânicas de área.</p>
                                </div>
                                 <div>
                                    <h4 class="font-bold text-lg mb-2 flex items-center"><i class="fas fa-redo-alt text-yellow-500 mr-2"></i> Rotação vs. Prioridade</h4>
                                    <p class="text-stone-600">Pratique sua sequência de ataques (Rotation) em um boneco de treino até virar memória muscular. Isso cria uma base. Em combates reais, adapte-se usando uma lista de Priorities (Prioridades): use sempre a habilidade de maior impacto que estiver disponível, mesmo que isso desvie da sua "Rotation" padrão. O mais importante é manter os DoTs (Damage over Time - Dano ao Longo do Tempo) e buffs ativos e gastar recursos de forma eficiente.</p>
                                </div>
                                <div>
                                    <h4 class="font-bold text-lg mb-2 flex items-center"><i class="fas fa-shield-alt text-purple-500 mr-2"></i> Uso de Defensivos (DCDs)</h4>
                                    <p class="text-stone-600">Não use todos os seus DCDs (Defensive Cooldowns - habilidades defensivas de resfriamento) de uma vez! Roteie-os estrategicamente para ter sempre uma habilidade defensiva pronta para mitigar grandes ataques. Conhecer suas defesas e quando usá-las é a chave para a "boa resistência" que você procura, especialmente em conteúdo desafiador. Cada DCD tem um propósito (damage reduction (redução de dano), absorption (absorção), healing (cura), reflection (reflexão), invulnerability (invulnerabilidade)).</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Página de Datacrons -->
            <div id="page-datacrons" class="page-content">
                <section class="mb-20">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl font-bold tracking-tight section-title">A Caça aos Datacrons: Poder Permanente para o Legado (Legacy)</h2>
                        <p class="mt-3 max-w-2xl mx-auto text-lg text-stone-600">Espalhados pela galáxia, os Datacrons são artefatos ocultos que concedem bônus permanentes de atributos a TODOS os seus personagens no Legado (Legacy). Coletá-los é um investimento de longo prazo no poder da sua conta, tornando até mesmo seus personagens alternativos (Alts) mais fortes desde o início e fornecendo um impulso notável no endgame.</p>
                    </div>
                    <div class="grid lg:grid-cols-3 gap-8">
                        <div class="lg:col-span-2 card p-6 md:p-8">
                            <h3 class="text-2xl font-semibold mb-4 text-stone-800 flex items-center">
                                <i class="fas fa-map-marker-alt text-red-500 mr-3"></i> Guia de Localização de Datacrons
                            </h3>
                            <p class="mb-4 text-stone-600">Selecione um planeta para ver os Datacrons disponíveis, seus bônus e uma breve dica de localização. Alguns são fáceis de encontrar, outros exigem puzzles de salto complexos e muita paciência! A maioria concede Mastery (Maestria) ou Endurance (Vigor), mas alguns dão Presence (Presença) ou Matrix Shards (Fragmentos de Matriz) para construir o Matrix Crystal (Cristal Matriz).</p>
                            <div class="mb-4">
                                <select id="datacron-planet-filter" class="w-full p-2 border border-gray-300 rounded-md bg-white">
                                    <option value="all">Todos os Planetas</option>
                                </select>
                            </div>
                            <div id="datacron-list" class="space-y-4 max-h-96 overflow-y-auto pr-2">
                                <!-- Datacrons serão populados aqui pelo JS -->
                            </div>
                            <p class="mt-4 text-sm text-stone-500"><strong>Dica:</strong> Matrix Shards (Fragmentos de Matriz) (Amarelo, Verde, Laranja, Vermelho, Azul) são usados para construir o Matrix Crystal (Cristal Matriz), um item de Legado que se aprimora com mais fragmentos. O Matrix Crystal é uma relíquia poderosa para baixo nível.</p>
                        </div>
                        <div class="card p-6 md:p-8 flex flex-col justify-center items-center">
                            <h3 class="text-2xl font-semibold mb-4 text-center text-stone-800 flex items-center justify-center">
                                <i class="fas fa-chart-pie text-cyan-500 mr-3"></i> Total Legacy Reward
                            </h3>
                            <p class="text-center text-stone-600 mb-4">Coletar todos os 130 datacrons concede um bônus cumulativo massivo e permanente a **todos** os personagens da sua conta. O investimento de tempo vale a pena para o poder do Legado (Legacy)!</p>
                            <div class="w-full h-64">
                                 <canvas id="datacron-summary-chart"></canvas>
                            </div>
                            <p class="mt-4 text-sm text-center text-stone-500">Este bônus é especialmente poderoso para upar alternate characters (personagens alternativos) (Alts), tornando-os muito mais fortes desde o início, e oferece um impulso notável no endgame ao complementar seu equipamento (Gear).</p>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Página de Legado -->
            <div id="page-legado" class="page-content">
                <section class="mb-16">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl font-bold tracking-tight section-title">Aliados e Legado (Legacy): Multiplicadores de Poder para a Conta Toda</h2>
                        <p class="mt-3 max-w-2xl mx-auto text-lg text-stone-600">Sua força não vem apenas de você. Seus companheiros (Companions) e os desbloqueios de Legado (Legacy Unlocks) em toda a conta são multiplicadores de poder que não podem ser ignorados e beneficiam todos os seus personagens, tornando a jornada mais suave e eficiente para todo o seu elenco.</p>
                    </div>
                    <div class="grid lg:grid-cols-2 gap-8">
                        <div class="card p-6 md:p-8">
                            <h3 class="text-2xl font-semibold mb-4 text-stone-800 flex items-center">
                                <i class="fas fa-users text-green-600 mr-3"></i> O Poder da Influência do Companheiro
                            </h3>
                            <p class="mb-4 text-stone-600">Aumentar a Influence (Influência) do seu Companion (Companheiro) é um dos maiores impulsos de poder para o jogo solo. Um Companion de alta Influence (Nível 50) é um exército de um só! Além de curar/causar dano em combate, eles se tornam mais rápidos e eficientes em suas **Crew Skills** (habilidades de profissão). Veja como a estatística de Presence (Presença), que aumenta a eficácia deles em combate, escala com a Influence.</p>
                            <label for="influence-slider" class="block font-medium text-stone-700 mb-2">Influence Level (Nível de Influência): <span id="influence-level" class="font-bold text-blue-700">1</span></label>
                            <input id="influence-slider" type="range" min="1" max="50" value="1" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                            <div class="mt-4 bg-stone-100 p-4 rounded-lg text-center">
                                <p class="text-lg text-stone-600">Presence Bonus (Bônus de Presença):</p>
                                <p id="presence-bonus" class="text-4xl font-bold text-amber-600">0</p>
                            </div>
                            <p class="mt-4 text-sm text-stone-500"><strong>Dica Pro:</strong> Para conteúdo solo e missões mais difíceis, configure seu Companion como Healer (Curandeiro). No Nível 50 de Influence, ele o tornará praticamente imortal, permitindo que você se concentre apenas no damage (dano). Use Gifts (Presentes) que o Companion "Ama" para maximizar o ganho de Influence!</p>
                        </div>
                         <div class="card p-6 md:p-8">
                            <h3 class="text-2xl font-semibold mb-4 text-stone-800 flex items-center">
                                <i class="fas fa-unlock-alt text-purple-600 mr-3"></i> Desbloqueios de Legado Essenciais
                            </h3>
                            <p class="mb-4 text-stone-600">Investir em seu Legacy (Legado) beneficia todos os seus Characters (Personagens), tornando-os mais fortes e eficientes. Priorize estes Unlocks (Desbloqueios) para maximizar sua Quality of Life (qualidade de vida) e Power (Poder) em todos os seus Alts (Personagens Alternativos) e para todo o Legacy:</p>
                            <ul class="space-y-3 text-stone-600">
                                <li class="flex items-start"><span class="mr-2 text-green-500 font-bold"><i class="fas fa-check-circle"></i></span><div><strong class="text-stone-700">Rocket Boost (Impulso Foguete):</strong> Essencial para se mover rapidamente em áreas internas onde Speeders (Veículos) não funcionam, economizando muito tempo.</div></li>
                                <li class="flex items-start"><span class="mr-2 text-green-500 font-bold"><i class="fas fa-check-circle"></i></span><div><strong class="text-stone-700">Travel Cooldown Reductions (Reduções de Cooldown de Viagem):</strong> Menos tempo de espera para Quick Travel (Viagem Rápida), Fleet Pass (Retorno à Frota) e outros Teleports (Teletransportes) significa mais tempo jogando e menos tempo esperando.</div></li>
                                <li class="flex items-start"><span class="mr-2 text-green-500 font-bold"><i class="fas fa-check-circle"></i></span><div><strong class="text-stone-700">Alignment Unlocks (Light V / Dark V) (Desbloqueios de Alinhamento):</strong> Alcançar estes Alignments (Alinhamentos) permite que seus Force Characters (Personagens da Força) (Jedi ou Sith) usem Combat Styles (Estilos de Combate) da facção oposta, abrindo novas e poderosas combinações.</div></li>
                                 <li class="flex items-start"><span class="mr-2 text-green-500 font-bold"><i class="fas fa-check-circle"></i></span><div><strong class="text-stone-700">Companion Utilities (Utilidades de Companheiro):</strong> "Legacy of Altruism" (Legado de Altruísmo) (aumenta Influence Gain (Influência Ganhada) com Gifts (Presentes)) e "Legacy of Readiness" (Legado de Prontidão) (reduz Gift Time (Tempo de Presente)) tornam o processo de maximizar Companions muito mais rápido e barato.</div></li>
                                 <li class="flex items-start"><span class="mr-2 text-green-500 font-bold"><i class="fas fa-check-circle"></i></span><div><strong class="text-stone-700">Legacy Cargo Hold Access (Acesso ao Cargueiro de Legado):</strong> Um shared Chest (Baú Compartilhado) entre todos os Characters (Personagens) da sua Account (Conta), perfeito para transferir Gear (Equipamentos), Crafting Materials (Materiais de Criação) e Credits (Créditos). Um dos primeiros Unlocks (Desbloqueios) a serem feitos!</div></li>
                                 <li class="flex items-start"><span class="mr-2 text-green-500 font-bold"><i class="fas fa-check-circle"></i></span><div><strong class="text-stone-700">Speeder Unlocks (Desbloqueios de Speeder):</strong> Libere a capacidade de montar Speeders (Veículos) em Lower Levels (Níveis Mais Baixos) (Nível 10) para todos os seus Characters, acelerando muito a Exploration (Exploração).</div></li>
                            </ul>
                            <p class="mt-6 text-stone-600">O Legacy é a verdadeira base de um Veteran Player (Jogador Veterano) de SWTOR. Ao investir nele, você simplifica e acelera a Progression (Progressão) de todos os seus Characters, tornando a Gaming Experience (Experiência de Jogo) muito mais Rewarding (Gratificante).</p>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Página da Guilda -->
            <div id="page-guilda" class="page-content">
                <section class="mb-16">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl font-bold tracking-tight section-title">Guilda (Guild) Brazucas: Sua Comunidade no SWTOR</h2>
                        <p class="mt-3 max-w-2xl mx-auto text-lg text-stone-600">A guilda Brazucas é um lar para jogadores de SWTOR que falam português, oferecendo suporte, camaradagem e bônus valiosos para otimizar sua jornada na galáxia.</p>
                    </div>
                    <div class="card p-6 md:p-8">
                        <h3 class="text-2xl font-semibold mb-4 text-stone-800 flex items-center">
                            <i class="fas fa-users-cog text-blue-700 mr-3"></i> Informações da Guilda
                        </h3>
                        <ul class="space-y-3 text-stone-600 mb-8">
                            <li><strong>Guild Leader (Líder da Guilda):</strong> <span class="font-bold text-blue-700">Ramɓo</span> <i class="fas fa-crown text-amber-500 ml-1"></i></li>
                            <li><strong>XP Bonus (Bônus de XP):</strong> <span class="font-bold text-green-700">15%</span> <i class="fas fa-plus-circle text-green-500 ml-1"></i></li>
                            <li><strong>Reputation Bonus (Bônus de Reputação):</strong> <span class="font-bold text-green-700">15%</span> <i class="fas fa-star text-green-500 ml-1"></i></li>
                            <li><strong>Discord:</strong> <a href="https://discord.gg/WeDVyYyBxh" target="_blank" class="text-blue-700 hover:underline font-bold"><i class="fab fa-discord mr-2"></i>discord.gg/WeDVyYyBxh</a></li>
                        </ul>
                        <h3 class="text-2xl font-semibold mt-8 mb-6 text-stone-800 flex items-center">
                            <i class="fas fa-handshake text-yellow-600 mr-3"></i> BRAZUCA PERKS (Vantagens da BRAZUCAS)
                        </h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="guild-perk-item">
                                <h4>1. Forward Command Room <i class="fas fa-map-marked-alt ml-2"></i></h4>
                                <p><strong>Duration (Duração):</strong> 3d 17h</p>
                                <p><strong>Professional Training (Treinamento Profissional)</strong></p>
                                <p><strong>Set Bonus (Bônus de Conjunto):</strong> Instant (Instantâneo)</p>
                                <p><strong>Cooldown (Tempo de Recarga):</strong> 6h 00m 00s</p>
                                <p>Aumenta a Taxa Crítica para todas as Crew Skills (Habilidades de Tripulação) em 5% por 1 hora.</p>
                            </div>
                            <div class="guild-perk-item">
                                <h4>2. Starboard Command Room <i class="fas fa-ship ml-2"></i></h4>
                                <p><strong>Duration (Duração):</strong> 18d 2h</p>
                                <p><strong>Flashpoint Looter III (Saqueador de Flashpoint III)</strong></p>
                                <p><strong>Set Bonus (Bônus de Conjunto):</strong> Passive (Passivo)</p>
                                <p>Concede uma chance de dropar um Large Satchel of Crafting Materials (Grande Saco de Materiais de Criação) de chefes de Flashpoint (Ponto de Ignição) enquanto em um Grupo de Guilda.</p>
                            </div>
                            <div class="guild-perk-item">
                                <h4>3. Bridge <i class="fas fa-compass ml-2"></i></h4>
                                <p><strong>Duration (Duração):</strong> 4d 2h</p>
                                <p><strong>Critical Missions III (Missões Críticas III)</strong></p>
                                <p><strong>Set Bonus (Bônus de Conjunto):</strong> Passive (Passivo)</p>
                                <p>Aumenta a Taxa Crítica para todas as Mission Skills (Habilidades de Missão) em 3%.</p>
                            </div>
                            <div class="guild-perk-item">
                                <h4>4. Engine Room <i class="fas fa-engine-force ml-2"></i></h4>
                                <p><strong>Duration (Duração):</strong> 18d 2h</p>
                                <p><strong>Operations Looter II (Saqueador de Operações II)</strong></p>
                                <p><strong>Set Bonus (Bônus de Conjunto):</strong> Passive (Passivo)</p>
                                <p>Concede uma chance de dropar um Medium Satchel of Crafting Materials (Saco Médio de Materiais de Criação) de chefes de Operations (Operações) enquanto em um Grupo de Guilda.</p>
                            </div>
                            <div class="guild-perk-item">
                                <h4>5. Docking Bay <i class="fas fa-warehouse ml-2"></i></h4>
                                <p><strong>Duration (Duração):</strong> 18d 2h</p>
                                <p><strong>Crafting Conquest 1 (Conquista de Criação 1)</strong></p>
                                <p><strong>Set Bonus (Bônus de Conjunto):</strong> Passive (Passivo)</p>
                                <p>Concede acesso ao Objetivo de Conquista baseado em Crafting (Criação) "Crafting: Rally - Part 1".</p>
                            </div>
                            <div class="guild-perk-item">
                                <h4>6. Port Command Room <i class="fas fa-headset ml-2"></i></h4>
                                <p><strong>Duration (Duração):</strong> 18d 2h</p>
                                <p><strong>Operations Fortitude II (Fortitude de Operações II)</strong></p>
                                <p><strong>Set Bonus (Bônus de Conjunto):</strong> Passive (Passivo)</p>
                                <p>Aumenta Endurance (Vigor) em Operations (Operações) em 9%. Não se aplica em Master Mode (Modo Mestre).</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Página de Simulações -->
            <div id="page-simulacoes" class="page-content">
                <section class="mb-16">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl font-bold tracking-tight section-title">Simulações de Personagem (Character Simulations)</h2>
                        <p class="mt-3 max-w-2xl mx-auto text-lg text-stone-600">Insira as informações do seu personagem abaixo para obter simulações e dicas personalizadas para o seu progresso no SWTOR.</p>
                    </div>
                    <div class="card p-6 md:p-8">
                        <h3 class="text-2xl font-semibold mb-6 text-stone-800 flex items-center">
                            <i class="fas fa-user-circle text-blue-600 mr-3"></i> Dados do Personagem
                        </h3>
                        <form id="simulation-form" class="space-y-6">
                            <div>
                                <label for="char-name" class="block text-sm font-medium text-stone-700 mb-1">Nome do Personagem (Character Name):</label>
                                <input type="text" id="char-name" class="block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" required>
                            </div>
                            <div>
                                <label for="char-guild" class="block text-sm font-medium text-stone-700 mb-1">Guilda (Guild):</label>
                                <input type="text" id="char-guild" class="block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                            </div>
                             <div>
                                <label for="char-faction" class="block text-sm font-medium text-stone-700 mb-1">Facção (Faction):</label>
                                <select id="char-faction" class="block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" required>
                                    <option value="">Selecione a Facção</option>
                                    <option value="Republica">República</option>
                                    <option value="Imperio">Império</option>
                                </select>
                            </div>
                             <div>
                                <label for="char-class" class="block text-sm font-medium text-stone-700 mb-1">Classe (Class):</label>
                                <input type="text" id="char-class" class="block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="Ex: Jedi Knight (Cavaleiro Jedi)" required>
                            </div>
                             <div>
                                <label for="char-level" class="block text-sm font-medium text-stone-700 mb-1">Nível (Level):</label>
                                <input type="number" id="char-level" min="1" max="80" class="block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" required>
                            </div>
                             <div>
                                <label for="char-mastery" class="block text-sm font-medium text-stone-700 mb-1">Mastery (Maestria):</label>
                                <input type="number" id="char-mastery" min="0" class="block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" required>
                            </div>
                             <div>
                                <label for="char-endurance" class="block text-sm font-medium text-stone-700 mb-1">Endurance (Vigor):</label>
                                <input type="number" id="char-endurance" min="0" class="block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" required>
                            </div>
                             <div>
                                <label for="char-power" class="block text-sm font-medium text-stone-700 mb-1">Power (Poder):</label>
                                <input type="number" id="char-power" min="0" class="block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" required>
                            </div>
                             <div>
                                <label for="char-accuracy" class="block text-sm font-medium text-stone-700 mb-1">Accuracy (Precisão):</label>
                                <input type="number" id="char-accuracy" min="0" class="block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" required>
                            </div>
                             <div>
                                <label for="char-alacrity" class="block text-sm font-medium text-stone-700 mb-1">Alacrity (Alacridade):</label>
                                <input type="number" id="char-alacrity" min="0" class="block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" required>
                            </div>
                             <div>
                                <label for="char-critical" class="block text-sm font-medium text-stone-700 mb-1">Critical (Crítico):</label>
                                <input type="number" id="char-critical" min="0" class="block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" required>
                            </div>
                            <div>
                                <label for="companion-name" class="block text-sm font-medium text-stone-700 mb-1">Nome do Companheiro (Companion Name):</label>
                                <input type="text" id="companion-name" class="block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                            </div>
                            <div>
                                <label for="companion-level" class="block text-sm font-medium text-stone-700 mb-1">Nível de Influência do Companheiro (Companion Influence Level):</label>
                                <input type="number" id="companion-level" min="1" max="50" class="block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" value="1">
                            </div>
                            <button type="submit" class="btn-primary px-5 py-2 rounded-md shadow-sm w-full"><i class="fas fa-play-circle mr-2"></i>Gerar Simulações</button>
                        </form>
                        <div id="simulation-results" class="mt-8 space-y-6 hidden">
                            <h3 class="text-2xl font-semibold text-stone-800 flex items-center">
                                <i class="fas fa-chart-line text-green-600 mr-3"></i> Resultados da Simulação
                            </h3>
                            <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                                <h4 class="font-bold text-lg text-blue-800 flex items-center"><i class="fas fa-chart-bar mr-2"></i> Dicas de Atributos (Stat Tips):</h4>
                                <p id="sim-stats-tips" class="text-sm text-stone-700"></p>
                            </div>
                            <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                                <h4 class="font-bold text-lg text-green-800 flex items-center"><i class="fas fa-users mr-2"></i> Otimização de Companheiro (Companion Optimization):</h4>
                                <p id="sim-companion-tips" class="text-sm text-stone-700"></p>
                            </div>
                            <div class="bg-yellow-50 p-4 rounded-lg border border-yellow-200">
                                <h4 class="font-bold text-lg text-yellow-800 flex items-center"><i class="fas fa-lightbulb mr-2"></i> Recomendações Gerais (General Recommendations):</h4>
                                <p id="sim-general-tips" class="text-sm text-stone-700"></p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- Modal para detalhes de estilos de combate -->
    <div id="style-modal" class="modal fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center p-4 z-50">
        <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div id="modal-content" class="p-6">
                 <!-- Conteúdo injetado pelo JS -->
            </div>
            <div class="bg-gray-50 px-6 py-3 text-right">
                <button id="modal-close-button" class="btn-secondary px-4 py-2 rounded-md">Fechar</button>
            </div>
        </div>
    </div>

    <!-- Rodapé da página -->
    <footer class="bg-stone-800 text-stone-300 mt-12">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-6 text-center max-w-screen-xl">
            <p>&copy; 2024 Holocron SWTOR. Que a Força esteja com você. Sempre.</p>
        </div>
    </footer>

    <script>
        let statsChartInstance = null; // Para controlar a instância do gráfico de stats
        let datacronChartInstance = null; // Para controlar a instância do gráfico de datacrons

        document.addEventListener('DOMContentLoaded', function() {
            // --- Lógica do Menu Mobile ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
            document.querySelectorAll('#mobile-menu .nav-button-mobile').forEach(button => {
                button.addEventListener('click', () => {
                    mobileMenu.classList.add('hidden'); // Fecha o menu ao clicar em um item
                });
            });

            // --- Lógica do Modal ---
            const modal = document.getElementById('style-modal');
            const modalContent = document.getElementById('modal-content');
            const modalCloseButton = document.getElementById('modal-close-button');

            function openModal(title, content) {
                modalContent.innerHTML = `<h3 class="text-2xl font-bold text-stone-800 mb-4">${title}</h3>${content}`;
                modal.classList.remove('hidden');
                modal.classList.add('flex');
            }

            function closeModal() {
                modal.classList.add('hidden');
                modal.classList.remove('flex');
                modalContent.innerHTML = '';
            }
            modalCloseButton.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => {
                if(e.target === modal) {
                    closeModal();
                }
            });

            // --- Lógica de Navegação da Página ---
            const pages = document.querySelectorAll('.page-content');
            const navButtons = document.querySelectorAll('.nav-button');
            const mobileNavButtons = document.querySelectorAll('.nav-button-mobile');

            function showPage(pageId) {
                pages.forEach(page => {
                    page.classList.remove('active');
                });
                document.getElementById('page-' + pageId).classList.add('active');

                // Atualiza os botões de navegação do desktop
                navButtons.forEach(button => {
                    if (button.dataset.page === pageId) {
                        button.classList.add('active');
                    } else {
                        button.classList.remove('active');
                    }
                });

                // Atualiza os botões de navegação mobile
                mobileNavButtons.forEach(button => {
                    if (button.dataset.page === pageId) {
                        button.classList.add('active');
                    } else {
                        button.classList.remove('active');
                    }
                });


                // Inicializa gráficos quando a página é mostrada pela primeira vez
                if (pageId === 'equipamentos' && statsChartInstance === null) {
                    initStatsChart();
                }
                if (pageId === 'datacrons' && datacronChartInstance === null) {
                    initDatacronChart();
                }
            }

            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    showPage(button.dataset.page);
                });
            });

            mobileNavButtons.forEach(button => {
                button.addEventListener('click', () => {
                    showPage(button.dataset.page);
                });
            });

            // --- Dados e Lógica dos Estilos de Combate ---
            const combatStylesData = [
                { id: 'juggernaut', name: 'Juggernaut (Vengeance)', faction: 'Império', type: 'melee', description: 'Usa armadura pesada, tem dano sólido e excelentes defensivos. Ótima auto-cura e resistência.', verdict: 'Melhor aposta para um DPS corpo a corpo ultra-resistente.', tutorial: `<h4>Princípios da Rotação (Rotation Principles):</h4><p class="mb-4 text-stone-600">Foco em aplicar efeitos de sangramento (<strong>Impale, Shatter</strong>) e usar habilidades que se beneficiam deles (<strong>Force Scream, Vengeful Slam</strong>). Gerencie bem sua Fúria (Rage), usando habilidades geradoras de recurso para alimentar seus ataques mais poderosos.</p><h4>DCDs (Defensive Cooldowns) Chave:</h4><ul class="list-disc list-inside space-y-1 text-stone-600"><li><strong>Saber Ward:</strong> Aumenta sua defesa corpo a corpo e à distância em 50% e absorve 75% do dano da Força (Force)/Tecnologia (Tech). Essencial para grandes ataques.</li><li><strong>Endure Pain:</strong> Aumenta sua vida máxima em 30% por 10s e remove efeitos de debuffs de movimento. Usado para sobreviver a picos de dano.</li><li><strong>Enraged Defense:</strong> Cura você em 1% da sua vida máxima a cada 0.5s ao ser atacado por 10s. Uma ótima auto-cura passiva.</li><li><strong>Saber Reflect:</strong> Reflete 100% de dano direto da Força (Force)/Tecnologia (Tech) de volta ao atacante por 5s. Não use contra ataques corpo a corpo.</li></ul>` },
                { id: 'guardian', name: 'Guardian (Vigilance)', faction: 'República', type: 'melee', description: 'O espelho do Juggernaut. Armadura pesada, ótimo dano e sobrevivência. Uma fortaleza ambulante que protege e destrói.', verdict: 'A escolha da República para um DPS corpo a corpo indestrutível.', tutorial: `<h4>Princípios da Rotação (Rotation Principles):</h4><p class="mb-4 text-stone-600">Foco em aplicar efeitos de sangramento (<strong>Blade Barrage, Force Sweep</strong>) e usar habilidades que se beneficiam deles (<strong>Force Scream, Vigilant Thrust</strong>). Gerencie bem seu Foco (Focus), usando habilidades geradoras de recurso para alimentar seus ataques mais poderosos.</p><h4>DCDs (Defensive Cooldowns) Chave:</h4><ul class="list-disc list-inside space-y-1 text-stone-600"><li><strong>Saber Ward:</strong> Aumenta sua defesa corpo a corpo e à distância em 50% e absorve 75% do dano da Força (Force)/Tecnologia (Tech). Essencial para grandes ataques.</li><li><strong>Endure Pain:</strong> Aumenta sua vida máxima em 30% por 10s e remove efeitos de debuffs de movimento. Usado para sobreviver a picos de dano.</li><li><strong>Warding Call:</strong> Cura você em 1% da sua vida máxima a cada 0.5s ao ser atacado por 10s. Uma ótima auto-cura passiva.</li><li><strong>Defensive Bladework:</strong> Reflete 100% de dano direto da Força (Force)/Tecnologia (Tech) de volta ao atacante por 5s. Não use contra ataques corpo a corpo.</li></ul>` },
                { id: 'marauder', name: 'Marauder (Annihilation)', faction: 'Império', type: 'melee', description: 'Dano massivo através de DoTs (dano ao longo do tempo) que também curam você. Bons defensivos e mobilidade.', verdict: 'Para quem quer aniquilar inimigos e se curar no processo.', tutorial: `<h4>Princípios da Rotação (Rotation Principles):</h4><p class="mb-4 text-stone-600">Mantenha os DoTs (<strong>Deadly Saber, Force Melt</strong>) sempre ativos nos alvos. Construa cargas de Fúria (Rage) para usar <strong>Berserk/Zen</strong>, que aumenta seu dano e concede bônus. Use <strong>Smash</strong> para espalhar seus DoTs em múltiplos alvos para dano em área (AoE).</p><h4>DCDs (Defensive Cooldowns) Chave:</h4><ul class="list-disc list-inside space-y-1 text-stone-600"><li><strong>Cloak of Pain:</strong> Reduz o dano recebido em 20% e se renova ao ser atacado, uma ótima defesa passiva.</li><li><strong>Force Camouflage:
</strong> Concede furtividade (Stealth) temporária, reduz a ameaça e o dano recebido em 50% por 4s. Ótimo para reposicionamento ou fuga.</li><li><strong>Undying Rage:</strong> Reduz todo o dano recebido em 99% por 5s. Use para sobreviver a mecânicas mortais ou para absorver dano enquanto seu curador se recupera.</li><li><strong>Saber Ward:</strong> Aumenta sua defesa e absorve dano de Força (Force)/Tecnologia (Tech).</li></ul>` },
                { id: 'sentinel', name: 'Sentinel (Watchman)', faction: 'República', type: 'melee', description: 'O espelho do Marauder. Usa DoTs para causar dano e se curar, combinando ofensiva implacável com auto-suficiência.', verdict: 'Um duelista focado que queima os inimigos lentamente.', tutorial: `<h4>Princípios da Rotação (Rotation Principles):</h4><p class="mb-4 text-stone-600">Mantenha os DoTs (<strong>Force Melt, Cauterize</strong>) sempre ativos nos alvos. Construa cargas de Centramento (Centering) para usar <strong>Zen/Berserk</strong>, que aumenta seu dano e concede bônus. Use <strong>Force Sweep</strong> para espalhar seus DoTs em múltiplos alvos para dano em área (AoE).</p><h4>DCDs (Defensive Cooldowns) Chave:</h4><ul class="list-disc list-inside space-y-1 text-stone-600"><li><strong>Rebuke:</strong> Reduz o dano recebido em 20% e se renova ao ser atacado, uma ótima defesa passiva.</li><li><strong>Force Camouflage:</strong> Concede furtividade (Stealth) temporária, reduz a ameaça e o dano recebido em 50% por 4s. Ótimo para reposicionamento ou fuga.</li><li><strong>Valiant Spirit:</strong> Reduz todo o dano recebido em 99% por 5s. Use para sobreviver a mecânicas mortais ou para absorver dano enquanto seu curador se recupera.</li><li><strong>Saber Ward:</strong> Aumenta sua defesa e absorve dano de Força (Force)/Tecnologia (Tech).</li></ul>` },
                { id: 'sorcerer', name: 'Sorcerer (Madness)', faction: 'Império', type: 'ranged', description: 'DPS à distância com DoTs poderosos, excelente auto-cura e uma das melhores defesas do jogo (Force Barrier).', verdict: 'O canhão de vidro que se recusa a quebrar.', tutorial: `<h4>Princípios da Rotação (Rotation Principles):</h4><p class="mb-4 text-stone-600">Foco em dano baseado em DoT. Mantenha <strong>Creeping Terror, Affliction</strong> e <strong>Death Field</strong> ativos nos alvos. Espalhe seus DoTs por múltiplos inimigos com <strong>Force Storm</strong> para maximizar a eficácia em área (AoE). Gerencie sua Força (Force) cuidadosamente para não esgotá-la, usando habilidades de custo baixo para regenerar.</p><h4>DCDs (Defensive Cooldowns) Chave:</h4><ul class="list-disc list-inside space-y-1 text-stone-600"><li><strong>Force Barrier:</strong> Torna você imune a todo o dano por 8 segundos, mas o impede de se mover ou usar habilidades. Perfeito para ignorar mecânicas de chefe ou se recuperar.</li><li><strong>Cloud Mind:</strong> Reduz o dano recebido em 25% por 15s. Um defensivo geral para redução de dano constante.</li><li><strong>Unnatural Preservation:</strong> Uma auto-cura instantânea que restaura uma grande quantidade de vida. Use para sustentar sua vida durante o combate.</li><li><strong>Static Barrier:</strong> Um escudo que absorve dano, ideal para proteger a si mesmo ou a um aliado contra dano iminente.</li></ul>` },
                { id: 'sage', name: 'Sage (Balance)', faction: 'República', type: 'ranged', description: 'O espelho do Sorcerer. Usa a Força para aplicar DoTs e se curar. Possui uma incrível capacidade de sobrevivência para um usuário de armadura leve.', verdict: 'Um mestre do equilíbrio entre ataque e defesa à distância.', tutorial: `<h4>Princípios da Rotação (Rotation Principles):</h4><p class="mb-4 text-stone-600">Foco em dano baseado em DoT. Mantenha <strong>Weaken Mind, Affliction</strong> e <strong>Force in Balance</strong> ativos nos alvos. Espalhe seus DoTs por múltiplos inimigos com <strong>Force Storm</strong> para maximizar a eficácia em área (AoE). Gerencie sua Força (Force) cuidadosamente para não esgotá-la, usando habilidades de custo baixo para regenerar.</p><h4>DCDs (Defensive Cooldowns) Chave:</h4><ul class="list-disc list-inside space-y-1 text-stone-600"><li><strong>Force Barrier:</strong> Torna você imune a todo o dano por 8 segundos, mas o impede de se mover ou usar habilidades. Perfeito para ignorar mecânicas de chefe ou se recuperar.</li><li><strong>Mental Alacrity:</strong> Aumenta a Alacridade (Alacrity) e reduz o dano recebido em 25% por 15s. Um defensivo geral para redução de dano constante.</li><li><strong>Rejuvenate:</strong> Uma auto-cura instantânea que restaura uma grande quantidade de vida. Use para sustentar sua vida durante o combate.</li><li><strong>Force Mend:</strong> Um escudo que absorve dano, ideal para proteger a si mesmo ou a um aliado contra dano iminente.</li></ul>` },
                { id: 'powertech', name: 'Powertech (Pyrotech)', faction: 'Império', type: 'melee', description: 'Um lança-chamas ambulante com dano explosivo massivo, bom AoE e muita resistência com armadura pesada.', verdict: 'A melhor escolha para quem quer ver o mundo queimar com dano explosivo.', tutorial: `<h4>Princípios da Rotação (Rotation Principles):</h4><p class="mb-4 text-stone-600">Dano explosivo e forte AoE. Abra com <strong>Scorch</strong> (se disponível) ou <strong>Incendiary Missile</strong>, seguido de <strong>Flaming Fist</strong> para garantir acertos críticos em seus ataques mais fortes, como <strong>Rail Shot</strong>. Gerencie o Calor (Heat) para não superaquecer, usando <strong>Vent Heat</strong> quando necessário para resfriar.</p><h4>DCDs (Defensive Cooldowns) Chave:</h4><ul class="list-disc list-inside space-y-1 text-stone-600"><li><strong>Energy Shield:</strong> Reduz o dano recebido em 25% por 10s. Ótimo para mitigar dano previsível.</li><li><strong>Kolto Overload:</strong> Cura você rapidamente quando sua vida está baixa (abaixo de 35%). Uma habilidade de pânico excelente.</li><li><strong>Power Yield:</strong> Aumenta sua armadura em 30% por 10s. Útil contra ataques físicos.</li><li><strong>Sonic Rebounder:</strong> Reflete projéteis de volta aos atacantes por 5s. Uma utilidade poderosa para certos encontros.</li></ul>` },
                { id: 'vanguard', name: 'Vanguard (Plasmatech)', faction: 'República', type: 'melee', description: 'O espelho do Powertech. Utiliza tecnologia de plasma para derreter inimigos. Dano explosivo, AoE forte e muito resistente.', verdict: 'O soldado de elite que traz o calor da batalha.', tutorial: `<h4>Princípios da Rotação (Rotation Principles):</h4><p class="mb-4 text-stone-600">Dano explosivo e forte AoE. Abra com <strong>Stockstrike</strong> (se disponível) ou <strong>Plasma Grenade</strong>, seguido de <strong>Flamespout</strong> para garantir acertos críticos em seus ataques mais fortes, como <strong>High Impact Bolt</strong>. Gerencie seu Células de Energia (Energy Cells) para não esgotá-las, usando <strong>Recharge Cells</strong> quando necessário para regenerar.</p><h4>DCDs (Defensive Cooldowns) Chave:</h4><ul class="list-disc list-inside space-y-1 text-stone-600"><li><strong>Reactive Shield:</strong> Reduz o dano recebido em 25% por 10s. Ótimo para mitigar dano previsível.</li><li><strong>Adrenaline Rush:</strong> Cura você rapidamente quando sua vida está baixa (abaixo de 35%). Uma habilidade de pânico excelente.</li><li><strong>Power Armor:</strong> Aumenta sua armadura em 30% por 10s. Útil contra ataques físicos.</li><li><strong>Static Barrier:</strong> Imobiliza inimigos e reflete dano. Uma utilidade poderosa para certos encontros.</li></ul>` },
                { id: 'operative', name: 'Operative (Lethality)', faction: 'Império', type: 'stealth', description: 'Mestre da furtividade e dos venenos (DoTs). Alta mobilidade e auto-curas excelentes, quase imortal se jogado bem.', verdict: 'Perfeito para quem gosta de ataques surpresa e sobrevivência baseada em agilidade.', tutorial: `<h4>Princípios da Rotação (Rotation Principles):</h4><p class="mb-4 text-stone-600">Mantenha seus DoTs (<strong>Corrosive Dart, Corrosive Grenade</strong>) ativos. Gere e gaste Vantagem Tática (Tactical Advantage) com ataques fortes como <strong>Corrosive Assault</strong>. Evite gerar Vantagem Tática em excesso para não desperdiçar recursos.</p><h4>DCDs (Defensive Cooldowns) Chave:</h4><ul class="list-disc list-inside space-y-1 text-stone-600"><li><strong>Evasion (Rolamento):</strong> Redução de dano massiva e mobilidade. Você desliza para frente, evitando todos os ataques por 1.5s. A chave da sua sobrevivência e reposicionamento.</li><li><strong>Shield Probe:</strong> Cria um escudo que absorve dano por 10s. Use em conjunto com Evasion para máxima proteção.</li><li><strong>Stim Boost:</strong> Auto-cura instantânea e um aumento de dano temporário. Use ofensiva e defensivamente.</li><li><strong>Cloaking Screen:</strong> Concede furtividade (Stealth) e remove ameaça, permitindo que você escape do combate ou reinicie um encontro.</li></ul>` },
                { id: 'scoundrel', name: 'Scoundrel (Ruffian)', faction: 'República', type: 'stealth', description: 'O espelho do Operative. Usa ataques sujos e DoTs para minar os oponentes. A furtividade e os rolamentos evasivos garantem sua sobrevivência.', verdict: 'O malandro que sempre tem um truque na manga para vencer e sobreviver.', tutorial: `<h4>Princípios da Rotação (Rotation Principles):</h4><p class="mb-4 text-stone-600">Mantenha seus DoTs (<strong>Vital Shot, Lacerating Blast</strong>) ativos. Gere e gaste Upper Hand (Vantagem Superior) com ataques fortes como <strong>Blaster Volley</strong>. Evite gerar Upper Hand em excesso para não desperdiçar recursos.</p><h4>DCDs (Defensive Cooldowns) Chave:</h4><ul class="list-disc list-inside space-y-1 text-stone-600"><li><strong>Dodge (Esquiva):</strong> Redução de dano massiva e mobilidade. Você desliza para frente, evitando todos os ataques por 1.5s. A chave da sua sobrevivência e reposicionamento.</li><li><strong>Defense Screen:</strong> Cria um escudo que absorve dano por 10s. Use em conjunto com Dodge para máxima proteção.</li><li><strong>Pugnacity:</strong> Auto-cura instantânea e um aumento de dano temporário. Use ofensiva e defensivamente.</li><li><strong>Sneak:</strong> Concede furtividade (Stealth) e remove ameaça, permitindo que você escape do combate ou reinicie um encontro.</li></ul>` },
                { id: 'sniper', name: 'Sniper (Virulence)', faction: 'Império', type: 'ranged', description: 'DPS à distância com DoTs mortais. Excelente sobrevivência devido aos seus escudos e à mecânica de rolamento.', verdict: 'Um atirador de elite que envenena seus alvos de um local seguro.', tutorial: `<h4>Princípios da Rotação (Rotation Principles):</h4><p class="mb-4 text-stone-600">Mantenha seus DoTs (<strong>Weakening Blasts, Corrosive Dart</strong>) sempre ativos nos alvos. Use a cobertura (Cover) para ganhar bônus defensivos e acesso a habilidades poderosas como <strong>Takedown</strong>. Maximize seus tiros de <strong>Lethal Shot</strong> sob o cooldown ofensivo <strong>Viral Targeting</strong>.</p><h4>DCDs (Defensive Cooldowns) Chave:</h4><ul class="list-disc list-inside space-y-1 text-stone-600"><li><strong>Shield Probe:</strong> Cria um escudo que absorve dano por 10s. Essencial para mitigar dano direto.</li><li><strong>Evasion (Rolamento):</strong> Você rola para frente, evitando todos os ataques por 1.5s. Ótimo para reposicionamento e evitar mecânicas.</li><li><strong>Ballistic Shield:</strong> Desdobra um escudo que protege você e seus aliados próximos, reduzindo o dano recebido em 20%.</li><li><strong>Covered Escape:
</strong> Permite rolar para uma nova cobertura, limpando debuffs de movimento e atordoamentos.</li></ul>` },
                { id: 'gunslinger', name: 'Gunslinger (Dirty Fighting)', faction: 'República', type: 'ranged', description: 'O espelho do Sniper. Utiliza truques sujos e tiros com DoT. Sua capacidade de se proteger em cobertura e rolar para fora do perigo o torna muito resistente.', verdict: 'O pistoleiro que vence a luta antes mesmo que ela comece, com tiros certeiros e DoTs.', tutorial: `<h4>Princípios da Rotação (Rotation Principles):</h4><p class="mb-4 text-stone-600">Mantenha seus DoTs (<strong>Dirty Blast, Shrap Bomb</strong>) ativos. Use a cobertura (Cover) para ganhar bônus defensivos e acesso a habilidades poderosas como <strong>Quickdraw</strong>. Maximize seus tiros de <strong>Speed Shot</strong> sob o cooldown ofensivo <strong>Smuggler's Luck</strong>.</p><h4>DCDs (Defensive Cooldowns) Chave:</h4><ul class="list-disc list-inside space-y-1 text-stone-600"><li><strong>Defense Screen:</strong> Cria um escudo que absorve dano por 10s. Essencial para mitigar dano direto.</li><li><strong>Dodge (Esquiva):</strong> Você rola para frente, evitando todos os ataques por 1.5s. Ótimo para reposicionamento e evitar mecânicas.</li><li><strong>Hunker Down:</strong> Desdobra um escudo que protege você e seus aliados próximos, reduzindo o dano recebido em 20%.</li><li><strong>Escape:
</strong> Permite rolar para uma nova cobertura, limpando debuffs de movimento e atordoamentos.</li></ul>` },
                { id: 'mercenary', name: 'Mercenary (Arsenal)', faction: 'Império', type: 'ranged', description: 'Usa armadura pesada, possui auto-curas e excelentes DCDs, tornando-o muito resistente e fácil de jogar.', verdict: 'Um DPS à distância que é um tanque por conta própria, ideal para sobreviver e causar dano constante.', tutorial: `<h4>Princípios da Rotação (Rotation Principles):</h4><p class="mb-4 text-stone-600">DPS explosivo à distância focado em empilhar bônus com <strong>Tracer Missile</strong> e usar habilidades de alto dano como <strong>Blazing Bolts, Heatseeker Missile</strong> e <strong>Rail Shot</strong>. Mantenha Blazing Bolts no cooldown e use Rail Shot quando "proccado". Construa cargas de Supercharged Gas para bursts de dano e cura.</p><h4>DCDs (Defensive Cooldowns) Chave:</h4><ul class="list-disc list-inside space-y-1 text-stone-600"><li><strong>Kolto Shield:</strong> Cria um escudo de absorção de dano que também cura você ao longo do tempo.</li><li><strong>Responsive Safeguards:</strong> Reduz o dano recebido em 25% e reflete uma parte do dano de volta aos atacantes, além de curar você.</li><li><strong>Kolto Surge:</strong> Uma poderosa cura explosiva que pode salvar sua vida em momentos críticos.</li><li><strong>Diversion:</strong> Habilidade que absorve ataques e aumenta sua chance de defesa/escudo por um curto período.</li></ul>` },
                { id: 'commando', name: 'Commando (Gunnery)', faction: 'República', type: 'ranged', description: 'O espelho do Mercenary. Armadura pesada, auto-curas e excelentes DCDs, muito resistente e fácil de jogar.', verdict: 'Um DPS à distância que é um tanque por conta própria, ideal para sobreviver e causar dano constante.', tutorial: `<h4>Princípios da Rotação (Rotation Principles):</h4><p class="mb-4 text-stone-600">DPS explosivo à distância focado em empilhar bônus com <strong>Grav Round</strong> e usar habilidades de alto dano como <strong>Full Auto, Demolition Round</strong> e <strong>High Impact Bolt</strong>. Mantenha Full Auto no cooldown e use High Impact Bolt quando "proccado". Construa cargas de Supercharged Cell para bursts de dano e cura.</p><h4>DCDs (Defensive Cooldowns) Chave:</h4><ul class="list-disc list-inside space-y-1 text-stone-600"><li><strong>Medical Probe:</strong> Cria um escudo de absorção de dano que também cura você ao longo do tempo.</li><li><strong>Fortification:</strong> Reduz o dano recebido em 25% e reflete uma parte do dano de volta aos atacantes, além de curar você.</li><li><strong>Kolto Bomb:</strong> Uma poderosa cura explosiva que pode salvar sua vida em momentos críticos.</li><li><strong>Tech Override:</strong> Habilidade que absorve ataques e aumenta sua chance de defesa/escudo por um curto período.</li></ul>` },
            ];

            const styleGridImperial = document.getElementById('combat-style-grid-imperial');
            const styleGridRepublic = document.getElementById('combat-style-grid-republic');
            const filters = document.getElementById('combat-style-filters');

            function renderStyles(activeFilters = { type: 'all', faction: 'all' }) {
                styleGridImperial.innerHTML = '';
                styleGridRepublic.innerHTML = '';

                // Filtra estilos para Império e República
                const imperialStyles = combatStylesData.filter(style => style.faction === 'Império');
                const republicStyles = combatStylesData.filter(style => style.faction === 'República');

                function createCard(style) {
                    const card = document.createElement('div');
                    card.className = 'card p-6 combat-style-card flex flex-col';
                    card.dataset.type = style.type;
                    card.dataset.faction = style.faction.toLowerCase().replace('írio', ''); // 'imperio' ou 'republica'

                    const factionIconClass = style.faction === 'Império' ? 'icon-imperial' : 'icon-republic';
                    const factionAltText = style.faction === 'Império' ? 'Símbolo do Império Sith' : 'Símbolo da República Galáctica';

                    card.innerHTML = `
                        <div class="flex-grow">
                            <div class="flex items-center mb-3">
                                <span class="icon-faction ${factionIconClass}" role="img" aria-label="${factionAltText}"></span>
                                <h3 class="ml-3 text-xl font-semibold text-stone-800">${style.name}</h3>
                            </div>
                            <p class="text-stone-600 mb-4">${style.description}</p>
                            <p class="text-amber-700 bg-amber-100 p-3 rounded-lg font-semibold text-sm"><strong>Veredito:</strong> ${style.verdict}</p>
                        </div>
                        <div class="mt-4">
                            <button data-id="${style.id}" class="btn-primary w-full text-center py-2 rounded-md view-details-btn">Ver Detalhes</button>
                        </div>
                    `;
                    return card;
                }

                // Renderiza estilos do Império
                imperialStyles.forEach(style => {
                    let display = true;
                    if (activeFilters.faction !== 'all' && activeFilters.faction !== 'imperial') {
                        display = false;
                    }
                    if (activeFilters.type !== 'all' && activeFilters.type !== style.type) {
                        display = false;
                    }

                    if (display) {
                        styleGridImperial.appendChild(createCard(style));
                    }
                });

                // Renderiza estilos da República
                republicStyles.forEach(style => {
                    let display = true;
                    if (activeFilters.faction !== 'all' && activeFilters.faction !== 'republic') {
                        display = false;
                    }
                    if (activeFilters.type !== 'all' && activeFilters.type !== style.type) {
                        display = false;
                    }

                    if (display) {
                        styleGridRepublic.appendChild(createCard(style));
                    }
                });

                // Adiciona event listeners para botões "Ver Detalhes"
                document.querySelectorAll('.view-details-btn').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const styleId = e.target.dataset.id;
                        const styleData = combatStylesData.find(s => s.id === styleId);
                        if (styleData) {
                            openModal(`Tutorial: ${styleData.name}`, `<div class="text-stone-600">${styleData.tutorial}</div>`);
                        }
                    });
                });

                // Mostra/esconde títulos de facção com base no filtro
                const imperialTitle = document.querySelector('#page-estilos > h3:nth-of-type(1)');
                const republicTitle = document.querySelector('#page-estilos > h3:nth-of-type(2)');

                if (imperialTitle) {
                    imperialTitle.style.display = (activeFilters.faction === 'all' || activeFilters.faction === 'imperial') ? 'flex' : 'none';
                }
                if (republicTitle) {
                    republicTitle.style.display = (activeFilters.faction === 'all' || activeFilters.faction === 'republic') ? 'flex' : 'none';
                }
            }

            let currentFilters = { type: 'all', faction: 'all' };

            // Lógica dos botões de filtro
            filters.addEventListener('click', (e) => {
                if (e.target.tagName === 'BUTTON' || e.target.closest('button')) {
                    const button = e.target.tagName === 'BUTTON' ? e.target : e.target.closest('button');
                    const filterValue = button.dataset.filter;

                    // Remove a classe 'active' de todos os botões de filtro
                    document.querySelectorAll('#combat-style-filters button').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    // Adiciona a classe 'active' ao botão clicado
                    button.classList.add('active');

                    // Atualiza os filtros com base no que foi clicado
                    if (['melee', 'ranged', 'stealth'].includes(filterValue)) {
                        currentFilters.type = filterValue;
                        currentFilters.faction = 'all'; // Reseta o filtro de facção quando um tipo é selecionado
                    } else if (['imperial', 'republic'].includes(filterValue)) {
                        currentFilters.faction = filterValue;
                        currentFilters.type = 'all'; // Reseta o filtro de tipo quando uma facção é selecionada
                    } else { // Filtro 'all'
                        currentFilters.type = 'all';
                        currentFilters.faction = 'all';
                    }
                    
                    renderStyles(currentFilters);
                }
            });

            // --- Lógica do Gráfico de Atributos (Stats Chart) ---
            let guildPerkActive = false;
            const togglePerkButton = document.getElementById('toggle-guild-perk');

            const statsData = {
                labels: ['Critical (Crítico)', 'Alacrity (Alacridade)', 'Accuracy (Precisão)'],
                datasets: [{
                    label: 'Attribute Points (Pontos de Atributo)',
                    data: [3500, 2054, 2694],
                    backgroundColor: ['#f59e0b', '#3b82f6', '#10b981'],
                    borderColor: ['#d97706', '#2563eb', '#059669'],
                    borderWidth: 1
                }]
            };

            const statsConfig = {
                type: 'bar',
                data: statsData,
                options: {
                    indexAxis: 'y',
                    maintainAspectRatio: false,
                    responsive: true,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = '';
                                    if (context.parsed.x !== null) {
                                        if (context.label === 'Critical (Crítico)') {
                                           return 'Todo o resto vai aqui!';
                                        } else if (context.label === 'Alacrity (Alacridade)') {
                                            const gcd = guildPerkActive ? '1.4s (com bônus Zeal)' : '1.4s';
                                            return `Alvo: ${context.parsed.x} (~7.15% para GCD de ${gcd}). Valores abaixo de 560 só serão eficazes com o bônus Zeal.`;
                                        } else if (context.label === 'Accuracy (Precisão)') {
                                            return `Alvo: ${context.parsed.x} (110% para PvE de fim de jogo). Acima disso é desperdício.`;
                                        }
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                        x: { beginAtZero: true, max: 4000, title: { display: true, text: 'Attribute Value (Valor do Atributo)' } },
                        y: { ticks: { font: { weight: 'bold' } } }
                    }
                }
            };

            function initStatsChart() {
                if (statsChartInstance) {
                    statsChartInstance.destroy(); // Destrói a instância anterior se existir
                }
                statsChartInstance = new Chart(document.getElementById('stats-chart'), statsConfig);

                if (togglePerkButton) {
                    togglePerkButton.removeEventListener('click', toggleGuildPerk); // Evita múltiplos listeners
                    togglePerkButton.addEventListener('click', toggleGuildPerk);
                }
            }

            function toggleGuildPerk() {
                guildPerkActive = !guildPerkActive;
                if(guildPerkActive) {
                    statsChartInstance.data.datasets[0].data[1] = 560;
                    togglePerkButton.textContent = 'Bônus Ativado! Desativar?';
                    togglePerkButton.classList.replace('btn-primary', 'bg-green-600');
                    togglePerkButton.classList.add('hover:bg-green-700');
                } else {
                    statsChartInstance.data.datasets[0].data[1] = 2054;
                    togglePerkButton.textContent = 'Sim, ativar bônus da Guilda';
                    togglePerkButton.classList.replace('bg-green-600', 'btn-primary');
                    togglePerkButton.classList.remove('hover:bg-green-700');
                }
                statsChartInstance.update();
            }

            // --- Lógica de Datacrons ---
            const datacronData = [
                { planet: "Coruscant", stat: "+2 Endurance (Vigor)", location: "No Setor Justicar, em uma plataforma elevada. Necessita de saltos precisos.", difficulty: "Fácil" },
                { planet: "Coruscant", stat: "+2 Presence (Presença)", location: "No Antigo Mercado Galáctico, perto de um elevador quebrado no nível superior.", difficulty: "Fácil" },
                { planet: "Coruscant", stat: "+2 Mastery (Maestria)", location: "No Templo Jedi, escalando escombros e vigas para um andar superior.", difficulty: "Médio" },
                { planet: "Coruscant", stat: "Yellow Shard (Fragmento Amarelo)", location: "Na Seção de Trabalhos, em uma área no teto acessível por tubos e caixas.", difficulty: "Difícil" },
                { planet: "Dromund Kaas", stat: "+2 Endurance (Vigor)", location: "Na Propriedade de Lord Grathan, em uma área secreta ao leste da entrada da propriedade, atrás de algumas pedras.", difficulty: "Fácil" },
                { planet: "Dromund Kaas", stat: "+2 Mastery (Maestria)", location: "No Espaçoporto de Kaas City, em uma viga alta acessível por um contêiner e saltos.", difficulty: "Médio" },
                { planet: "Balmorra (Império)", stat: "+2 Mastery (Maestria)", location: "Nas Planícies Markaran, na Fábrica de Droides Okara, no meio de uma série de tubos.", difficulty: "Médio" },
                { planet: "Balmorra (República)", stat: "+2 Endurance (Vigor)", location: "Em Bugtown, no ninho da Rainha Colicóide, atrás de um caminho escondido na caverna.", difficulty: "Difícil" },
                { planet: "Taris (República)", stat: "+2 Mastery (Maestria)", location: "Em uma base da República destruída, requer um puzzle de salto complicado para alcançar.", difficulty: "Médio" },
                { planet: "Tatooine", stat: "+3 Endurance (Vigor)", location: "Dentro do transporte de areia Jawa, acessível por um canyon no sul do Deserto do Jundland.", difficulty: "Médio" },
                { planet: "Tatooine", stat: "+3 Mastery (Maestria)", location: "No Mar de Dunas, requer o uso de um balão de ar quente para alcançar uma plataforma elevada.", difficulty: "Difícil" },
                { planet: "Alderaan", stat: "+3 Mastery (Maestria)", location: "Na região de Juran, no topo de uma montanha com vista para o Forte Cademimu. Necessita de escalada e saltos.", difficulty: "Médio" },
                { planet: "Hoth", stat: "+4 Endurance (Vigor)", location: "Em uma caverna de Tauntaun no Deserto de Gelo, no setor ocidental.", difficulty: "Fácil" },
                { planet: "Hoth", stat: "+4 Mastery (Maestria)", location: "No Cemitério de Naves Estelares, dentro de uma nave acidentada, após atravessar destroços.", difficulty: "Difícil" },
                { planet: "Belsavis", stat: "Green Shard (Fragmento Verde)", location: "Na Tumba, em uma caverna sob uma árvore. Requer ativar 4 cubos espalhados pela área para desbloqueá-lo.", difficulty: "Difícil" },
                { planet: "Voss", stat: "+4 Presence (Presença)", location: "No Santuário da Cura, em uma plataforma elevada que requer uma série de saltos ou 'rocket boost'.", difficulty: "Fácil" },
                { planet: "Corellia", stat: "Green Shard (Fragmento Verde)", location: "No Parque Axial, em um túnel acessado por um longo e complexo puzzle de salto e um ponto de agarre (grapple point).", difficulty: "Muito Difícil" },
                { planet: "Ilum", stat: "+4 Mastery (Maestria)", location: "Na Plataforma de Gelo Oriental, no canto sudeste, além de uma zona de exaustão que esgota rapidamente sua vida.", difficulty: "Fácil" },
                { planet: "Makeb", stat: "+10 Endurance (Vigor)", location: "Na Mesa de Frinn, acessível por uma série de rampas e plataformas rochosas.", difficulty: "Médio" },
                { planet: "Rishi", stat: "+10 Mastery (Maestria)", location: "Um dos 4 datacrons de Rishi que concedem um bônus a 'todos os stats' ao completar uma missão após coletá-los. Este em particular fica na área do naufrágio.", difficulty: "Muito Difícil" },
                { planet: "Rishi", stat: "+10 Endurance (Vigor)", location: "Um dos 4 datacrons de Rishi. Este fica próximo à praia na Selva Esmeralda.", difficulty: "Muito Difícil" },
                { planet: "Rishi", stat: "+10 Presence (Presença)", location: "Um dos 4 datacrons de Rishi. Localizado na aldeia dos Rishii, exige saltos.", difficulty: "Muito Difícil" },
                { planet: "Rishi", stat: "+10 Critical (Crítico)", location: "Um dos 4 datacrons de Rishi. Encontrado em uma área escondida no Pântano.", difficulty: "Muito Difícil" },
                { planet: "Hutta", stat: "+2 Mastery (Maestria)", location: "Na Colina ao norte do Pântano do Carbono, com um tubo escalável em seu lado sul. Fácil de perder, mas simples de pegar.", difficulty: "Fácil" },
                { planet: "Tython", stat: "+2 Mastery (Maestria)", location: "No Templo Tython, em uma caverna atrás da Cachoeira. Requer saltos precisos.", difficulty: "Fácil" },
                { planet: "Tython", stat: "+2 Endurance (Vigor)", location: "Na Ruína dos Diabos de Flesh-Raider, perto do centro, em uma plataforma elevada.", difficulty: "Médio" },
                { planet: "Ord Mantell", stat: "+2 Mastery (Maestria)", location: "Na área da Antiga Fábrica de Colicoids, em um túnel de serviço abandonado. Simples, mas escondido.", difficulty: "Fácil" },
                { planet: "Ord Mantell", stat: "+2 Endurance (Vigor)", location: "No Recinto de Pesquisa de Oradam, em uma pequena colina atrás da base. Fácil de alcançar.", difficulty: "Fácil" },
                { planet: "Nar Shaddaa (Império)", stat: "+3 Mastery (Maestria)", location: "No Setor Corelliano, em uma plataforma alta acessível via tubos e caixas.", difficulty: "Difícil" },
                { planet: "Nar Shaddaa (República)", stat: "+3 Mastery (Maestria)", location: "No Distrito do Mercado, em uma viga acima das lojas. Requer saltos complicados.", difficulty: "Difícil" },
                { planet: "Nar Shaddaa", stat: "Orange Shard (Fragmento Laranja)", location: "No Casino Star Cluster, na sala de jackpot, acessível por uma rota secreta de salto.", difficulty: "Muito Difícil" },
                { planet: "Quesh", stat: "+4 Endurance (Vigor)", location: "No Canyon da Infiltração, perto de uma base de pesquisa Republicana abandonada. Fácil acesso.", difficulty: "Fácil" },
                { planet: "Quesh", stat: "+4 Mastery (Maestria)", location: "No Lago de Veneno, no topo de um afloramento rochoso cercado por gás venenoso. Requer cuidados ou imunidade.", difficulty: "Médio" },
                { planet: "Voss", stat: "Yellow Shard (Fragmento Amarelo)", location: "Na Área de Missões de Voss, em um pequeno poço escondido atrás de uma árvore. Pouco óbvio.", difficulty: "Médio" },
                { planet: "Voss", stat: "Orange Shard (Fragmento Laranja)", location: "Na Cidade de Voss-Ka, em uma torre alta que requer uma série complexa de saltos.", difficulty: "Muito Difícil" },
                { planet: "Rishi", stat: "+10 Alacrity (Alacridade)", location: "Um dos 4 datacrons de Rishi. Encontrado em um penhasco com vista para a baía.", difficulty: "Muito Difícil" },
                { planet: "Yavin 4", stat: "+10 Mastery (Maestria)", location: "Na Floresta do Massacre, perto das ruínas do templo. Pode exigir combates com inimigos de elite.", difficulty: "Médio" },
                { planet: "Yavin 4", stat: "+10 Endurance (Vigor)", location: "Na Bacia do Templo, no topo de uma estrutura em ruínas. Requer saltos.", difficulty: "Médil" },
                { planet: "Odessen", stat: "+10 Mastery (Maestria)", location: "No Centro de Operações da Base, atrás de algumas caixas. Fácil acesso se a missão estiver ativa.", difficulty: "Fácil" },
                { planet: "Iokath", stat: "+10 Mastery (Maestria)", location: "Dentro da Área de Teste de Iokath, em uma sala secreta. Requer ativar um painel.", difficulty: "Médio" },
                { planet: "Umbar", stat: "+10 Endurance (Vigor)", location: "No Caminho da Colheita, em uma caverna escondida. Requer explorar a borda do mapa.", difficulty: "Médio" },
                { planet: "Onderon", stat: "+10 Mastery (Maestria)", location: "Na Selva Reales, perto de uma cachoeira. Fácil de encontrar.", difficulty: "Fácil" },
                { planet: "Mek-Sha", stat: "+10 Endurance (Vigor)", location: "No Porto de Mek-Sha, em um esconderijo discreto. Requer saltos ou 'rocket boost'.", difficulty: "Médio" },
                { planet: "Ossus", stat: "+10 Mastery (Maestria)", location: "No Vale do Rift, em uma área elevada. Requer escalar.", difficulty: "Médio" },
            ];

            const planetFilter = document.getElementById('datacron-planet-filter');
            const datacronList = document.getElementById('datacron-list');
            // Obtém planetas únicos e os ordena
            const uniquePlanets = [...new Set(datacronData.map(d => d.planet))].sort();

            // Popula o dropdown de planetas
            uniquePlanets.forEach(planet => {
                const option = document.createElement('option');
                option.value = planet;
                option.textContent = planet;
                planetFilter.appendChild(option);
            });

            // Renderiza a lista de datacrons com base no filtro
            function renderDatacrons(filter = 'all') {
                datacronList.innerHTML = '';
                const filteredDatacrons = datacronData.filter(d => filter === 'all' || d.planet === filter);

                if (filteredDatacrons.length === 0) {
                    datacronList.innerHTML = `<p class="text-stone-500 text-center py-4">Nenhum datacron encontrado para esta seleção. Tente outro planeta!</p>`;
                    return;
                }

                filteredDatacrons.forEach(d => {
                    let difficultyColor = 'text-green-600';
                    if (d.difficulty === 'Médio') difficultyColor = 'text-yellow-600';
                    if (d.difficulty === 'Difícil') difficultyColor = 'text-orange-600';
                    if (d.difficulty === 'Muito Difícil') difficultyColor = 'text-red-600';

                    const item = document.createElement('div');
                    item.className = 'p-3 bg-stone-50 rounded-lg border border-stone-200';
                    item.innerHTML = `
                        <div class="flex justify-between items-start">
                            <div>
                                <h4 class="font-bold text-stone-700">${d.planet}</h4>
                                <p class="text-sm text-stone-600">${d.location}</p>
                            </div>
                            <div class="text-right ml-4 flex-shrink-0">
                                <p class="font-semibold text-blue-700">${d.stat}</p>
                                <p class="text-xs font-medium ${difficultyColor}">${d.difficulty}</p>
                            </div>
                        </div>
                    `;
                    datacronList.appendChild(item);
                });
            }

            // Event listener para o filtro de planeta
            planetFilter.addEventListener('change', (e) => {
                renderDatacrons(e.target.value);
            });

            // Inicializa o gráfico de resumo de datacrons
            function initDatacronChart() {
                if (datacronChartInstance) {
                    datacronChartInstance.destroy(); // Destrói a instância anterior se existir
                }
                const datacronSummaryCtx = document.getElementById('datacron-summary-chart').getContext('2d');
                datacronChartInstance = new Chart(datacronSummaryCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Total Mastery (Maestria)', 'Total Endurance (Vigor)', 'Total Presence (Presença)', 'Total Critical (Crítico)', 'Total Alacrity (Alacridade)'],
                        datasets: [{
                            label: 'Total Attribute Bonuses (Bônus de Atributos Totais)',
                            data: [1443, 1193, 400, 10, 10], // Valores aproximados baseados em guias e adicionais para Crítico/Alacridade
                            backgroundColor: [
                                'rgba(245, 158, 11, 0.7)', /* amber-500 */
                                'rgba(22, 163, 74, 0.7)',  /* green-600 */
                                'rgba(59, 130, 246, 0.7)',  /* blue-500 */
                                'rgba(234, 88, 12, 0.7)', /* orange-600 for crit */
                                'rgba(6, 182, 212, 0.7)'  /* cyan-600 for alacrity */
                            ],
                            borderColor: ['#f59e0b', '#16a34a', '#3b82f6', '#ea580c', '#06b6d4'],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { position: 'top' },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `${context.label}: +${context.raw}`;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // --- Lógica de Influência do Companheiro ---
            const influenceSlider = document.getElementById('influence-slider');
            const influenceLevel = document.getElementById('influence-level');
            const presenceBonus = document.getElementById('presence-bonus');

            function updatePresence(level) {
                const bonus = (level - 1) * 50; // Cada nível de influência adiciona 50 de Presence
                influenceLevel.textContent = level;
                presenceBonus.textContent = `+${bonus}`;
            }

            // Event listener para o slider de influência
            influenceSlider.addEventListener('input', (e) => {
                updatePresence(e.target.value);
            });

            // --- Lógica de Simulação ---
            const simulationForm = document.getElementById('simulation-form');
            const simulationResults = document.getElementById('simulation-results');
            const simStatsTips = document.getElementById('sim-stats-tips');
            const simCompanionTips = document.getElementById('sim-companion-tips');
            const simGeneralTips = document.getElementById('sim-general-tips');

            // Event listener para o formulário de simulação
            simulationForm.addEventListener('submit', function(e) {
                e.preventDefault();

                // Coleta os valores do formulário
                const charName = document.getElementById('char-name').value;
                const charGuild = document.getElementById('char-guild').value;
                const charFaction = document.getElementById('char-faction').value;
                const charClass = document.getElementById('char-class').value;
                const charLevel = parseInt(document.getElementById('char-level').value);
                const charMastery = parseInt(document.getElementById('char-mastery').value);
                const charEndurance = parseInt(document.getElementById('char-endurance').value);
                const charPower = parseInt(document.getElementById('char-power').value);
                const charAccuracy = parseInt(document.getElementById('char-accuracy').value);
                const charAlacrity = parseInt(document.getElementById('char-alacrity').value);
                const charCritical = parseInt(document.getElementById('char-critical').value);
                const companionName = document.getElementById('companion-name').value;
                const companionLevel = parseInt(document.getElementById('companion-level').value);

                let statsTips = '';
                let companionTips = '';
                let generalTips = '';

                // Dicas de Atributos
                if (charAccuracy < 2694) {
                    statsTips += `Sua Accuracy (Precisão) (${charAccuracy}) está abaixo do ideal para PvE de fim de jogo (alvo: 2694). Priorize-a para evitar misses. `;
                } else if (charAccuracy > 2694) {
                    statsTips += `Sua Accuracy (Precisão) (${charAccuracy}) está acima do ideal para PvE de fim de jogo (alvo: 2694). Você pode realocar pontos extras para Critical. `;
                } else {
                    statsTips += `Sua Accuracy (Precisão) está no alvo ideal para PvE de fim de jogo! `;
                }

                let recommendedAlacrity = 2054; // Padrão para GCD de 1.4s
                if (charGuild.toLowerCase() === 'brazucas' || charGuild.toLowerCase().includes('zeal')) {
                    // Esta é uma verificação simplificada, idealmente verificaria a vantagem real
                    recommendedAlacrity = 560;
                    statsTips += `Com o bônus de guilda 'Zeal', seu alvo de Alacrity (Alacridade) é ~560. `;
                } else {
                    statsTips += `Seu alvo de Alacrity (Alacridade) é ~2054 para 1.4s GCD. `;
                }

                if (charAlacrity < recommendedAlacrity) {
                    statsTips += `Sua Alacrity (Alacridade) (${charAlacrity}) está abaixo do recomendado. Aumente para ter um Global Cooldown (GCD) mais rápido. `;
                } else if (charAlacrity > recommendedAlacrity + 200) { // Permite uma pequena margem
                    statsTips += `Sua Alacrity (Alacridade) (${charAlacrity}) está um pouco acima do necessário. Considere realocar alguns pontos para Critical (Crítico). `;
                } else {
                    statsTips += `Sua Alacrity (Alacridade) está bem otimizada. `;
                }

                statsTips += `Invista todo o restante dos pontos em Critical (Crítico) para maximizar seu dano!`;

                // Dicas de Companheiro
                if (companionName && companionLevel < 50) {
                    companionTips += `Seu companheiro '${companionName}' está no nível de influência ${companionLevel}. Ele pode ficar muito mais forte! Aumente a influência para o nível 50 usando presentes que ele/ela 'ama'. Isso aumentará o Presence Bonus (Bônus de Presença) e a eficiência em Crew Skills (Habilidades de Tripulação).`;
                } else if (companionName && companionLevel === 50) {
                    companionTips += `Parabéns! Seu companheiro '${companionName}' está no nível máximo de influência (50), fornecendo um bônus de Presence (Presença) e eficiência máxima em Crew Skills (Habilidades de Tripulação).`;
                } else {
                    companionTips += `Considere usar um companheiro! Eles são um grande multiplicador de poder para conteúdo solo. Configure-o como Healer (Curandeiro) para maior sobrevivência.`;
                }

                // Dicas Gerais
                generalTips += `Com base no seu nível (${charLevel}), foque em:<br>`;
                if (charLevel < 80) {
                    generalTips += `- Completar sua História de Classe (Class Story) e as histórias planetárias para XP e Unlocks (Desbloqueios).<br>`;
                    generalTips += `- Começar a coletar Datacrons em planetas de baixo nível para bônus permanentes de stats.<br>`;
                    generalTips += `- Se ainda não o fez, junte-se a uma guilda ativa como a Brazucas para XP e outros bônus.<br>`;
                } else {
                    generalTips += `- Farmar Flashpoints (Pontos de Ignição) e Operations (Operações) para obter equipamento de Item Rating (NI) mais alto.<br>`;
                    generalTips += `- Otimizar seus Legendary Implants (Implantes Lendários) e investir em Augments (Aumentos) para o endgame.<br>`;
                    generalTips += `- Continuar farmando Tech Fragments (Fragmentos de Tecnologia) e OP-1 Catalysts (Catalisadores OP-1) para upgrades.<br>`;
                    generalTips += `- Praticar suas rotações em bonecos de treino para maximizar seu DPS/Heal.<br>`;
                }
                generalTips += `Sua facção é ${charFaction} e sua classe é ${charClass}. Explore as opções de Estilo de Combate (Combat Style) para encontrar a que melhor se adapta ao seu estilo de jogo.`;

                simStatsTips.innerHTML = statsTips;
                simCompanionTips.innerHTML = companionTips;
                simGeneralTips.innerHTML = generalTips;
                simulationResults.classList.remove('hidden');
            });


            // Renderização inicial e exibição da página
            renderStyles(currentFilters); // Renderiza estilos pela primeira vez
            renderDatacrons(); // Renderiza datacrons pela primeira vez
            updatePresence(1); // Define a exibição inicial da influência

            // Mostra a página inicial
            showPage('boas-vindas'); 
        });
    </script>
</body>
</html>
